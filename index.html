<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
	<link rel="manifest" href="/manifest.json">
  <title style="color: white">ELSA</title>
  <link rel="shortcut icon" href="./avatar/blank.ico" />
  <link rel="stylesheet" href="style/bootstrap.min.css">

  <!--Google Icon Font-->
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

  <!-- Propeller css -->
  <link href="style/propeller.min.css" rel="stylesheet">
  <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css" rel="stylesheet">
  <link rel="stylesheet" type="text/css" href="style/style.css">

  <!--Animate css -->
  <link rel="stylesheet" href="style/animate.min.css" />

</head>


<body>



  <div class="container-fluid main-container no-scroll-x">

    <div class="row header-popup">
      <div class="pmd-card pmd-z-depth card-custom-view showheader" style="margin-bottom: 4px;">
        <div class="pmd-card-body" style="margin:0px;">
          <div class="table custom-size" style="margin:0px;">

          </div>
        </div>
      </div>
    </div>

    <div class="row">
      <div class="chat-body pmd-z-depth" id="style-3">
        <div class="chat-text-para col-xs-offset-4 col-xs-4 chat-welcome-message"><img class="img-responsive welcome-message-big"/></div>
        <h1 class="pmd-display3 hidden col-xs-12 welcome-message">Hello there! I am the <b>ELSA</b>.You can begin
          a conversation by typing your request and I will try to answer them.</h1>


        <div class="header-text-logo hidden" style="background-color: #2458B3;height: 46px; padding-top: 5px; border-bottom:2px solid rgba(204, 204, 204, 0.59)">
          <div class="col-xs-2">
            <img src="./avatar/bot-logo-image.png" class="img-responsive" style="border-radius: 50%; padding-top: 0%; max-width: 30px;">
          </div>
          <div class="col-xs-9" style="padding: 5px 0 0 0;font-size: 120%;font-family: sans-serif;font-weight: 12%;color: white;"><b>ELSA</b>
          </div>
          <div class="header-subtitle" style="font-family: markpro',Arial,Helvetica,sans-serif;font-size: small;color: #606060;padding: 0% 0% 0% 0%;top: -7px;position: relative;"> 
          </div>
        </div>

        <ul id="msg_container" class="list-group pmd-list pmd-card-list hidden background-color-custom"></ul>
        
      </div>
    </div>

    <!--<div class="row">
      <div class="col-md-12">
        <button style="margin-left: 0px; width: 26px; min-width: 10px" data-container="body" data-trigger="click" data-toggle="popover" data-placement="top" data-content="<h1 class='popup-msgbox' style='cursor:pointer;padding:0;margin:0'><span onclick='showmesgtext(this);return false;'  class='laughter' style='margin-right:3px;'>&#128516;</span><span  onclick='showmesgtext(this);return false;' class='winking'  style='margin-right:3px;'>&#128521;</span><span onclick='showmesgtext(this);return false;' class='delicious'  style='margin-right:3px;'>&#128523;</span><span onclick='showmesgtext(this);return false;' class='heart-shaped' style='margin-right:3px;' >&#128525;</span><span onclick='showmesgtext(this);return false;' style='margin-right:3px;' class='crying'>&#128546;</span><span onclick='showmesgtext(this);return false;' style='margin-right:3px;' class='angry'>&#128544;</span></h1>"
          data-html="true" class="emoji-message btn btn-sm pmd-btn-fab pmd-btn-flat pmd-ripple-effect btn-primary" type="button" id="emojiPicker">
                  <i class="material-icons pmd-sm">face</i>
        </button>
        <button onclick="$(this).parent().find('input[type=file]').click();" class="btn btn-sm pmd-btn-fab pmd-btn-flat pmd-ripple-effect btn-primary"
          type="button">
                  <i class="material-icons pmd-sm">attach_file</i>
                </button>
        <button class="btn btn-sm pmd-btn-fab pmd-btn-flat pmd-ripple-effect btn-primary" type="button">
                  <i class="material-icons pmd-sm">mic</i>
                </button>
        <input onchange="alert('your webhook ajax here');" type="file" class="hidden" name="attachment" />
      </div>
    </div>-->

    <div class="row">
      <div class="col-xs-12" style="margin-top:-2px">
        <div class="form-group pmd-textfield pmd-textfield-floating-label">
          <div class="input-group">
            <div class="input-group-addon">
              <!-- <button style="margin-left: 0px; width: 26px; min-width: 10px" data-container="body" data-trigger="click" data-toggle="popover" data-placement="top" data-content="<h1 class='popup-msgbox' style='cursor:pointer;padding:0;margin:0'><span onclick='showmesgtext(this);return false;'  class='laughter' style='margin-right:3px;'>&#128516;</span><span  onclick='showmesgtext(this);return false;' class='winking'  style='margin-right:3px;'>&#128521;</span><span onclick='showmesgtext(this);return false;' class='delicious'  style='margin-right:3px;'>&#128523;</span><span onclick='showmesgtext(this);return false;' class='heart-shaped' style='margin-right:3px;' >&#128525;</span><span onclick='showmesgtext(this);return false;' style='margin-right:3px;' class='crying'>&#128546;</span><span onclick='showmesgtext(this);return false;' style='margin-right:3px;' class='angry'>&#128544;</span></h1>"
                  data-html="true" class="emoji-message btn btn-sm pmd-btn-fab pmd-btn-flat pmd-ripple-effect btn-primary" type="button" id="emojiPicker">
                          <i class="material-icons pmd-sm" style="color:#CF142B">mood</i>
                </button> -->
            </div>
            <label class="control-label" style="font-size: 11px;line-height: 0px;">Write your message here...</label>
            <textarea style="height:auto;resize: none;" rows="2" id="btn-input" required class="form-control" maxlength="250"></textarea>
            <div class="input-group-addon">

              <div class="menu" role="navigation">
                <a id="btn-send-message" class="pmd-floating-action-btn btn btn-sm pmd-btn-fab pmd-btn-raised pmd-ripple-effect btn-primary"
                  href="#" style="background-color: #2458B3;">
                              <span class="pmd-floating-hidden">Primary</span>
                              <i class="material-icons pmd-sm">send</i>
                            </a>
              </div>
              <!-- <div class="menu" role="navigation">
                  <a id="mic-send-message" onclick="startDictation()" class="pmd-floating-action-btn btn btn-sm pmd-btn-fab pmd-btn-raised pmd-ripple-effect btn-primary"
                    href="#" style="background-color: #cc0033;padding-left:8px;margin-top:5px;">
                                <span class="pmd-floating-hidden">Primary</span>
                                <i class="material-icons pmd-sm">mic none</i>
                              </a>
                </div> -->
            </div>
          </div>
        </div>
      </div>

      <!--<div class="col-xs-2" style="right: 3%;">
        <div class="menu" role="navigation">
          <a id="btn-send-message" class="pmd-floating-action-btn btn btn-sm pmd-btn-fab pmd-btn-raised pmd-ripple-effect btn-primary"
            href="javascript:void(0);">
                    <span class="pmd-floating-hidden">Primary</span>
                    <i class="material-icons pmd-sm">send</i>
                  </a>
        </div>
      </div>-->
  
    </div>
    <script data-main="js/require-setup" src="require.js"></script>
    <script>
      function bindJS() {
        $('.chat-body').css('height', (window.innerHeight - 80) + 'px')
        $('.main-container').css('opacity', '1');
        //hide emoji popover on outside click
        $(document).on('click', function (e) {
          $('[data-toggle="popover"]').each(function () {
            if (!$(this).is(e.target) && $(this).has(e.target).length === 0 && $('.popover').has(e.target).length === 0) {
              if ($("#" + $(this).attr("aria-describedby") + ":visible").length) {
                $(this).trigger('click')
              }
            }
          });
        });
        //triggered when modal is about to be shown
        $('#center-dialog').on('show.bs.modal', function (e) {
          $('#modal-img-holder').attr('src', $(e.relatedTarget).data('src'));
          $('#modal-btndownload').attr('href', $(e.relatedTarget).data('src'));
        });
        document.getElementById("btn-input").focus();

        $(document.body).ready(function () {
          var isMobile = (/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(navigator.userAgent.toLowerCase()));
          if (isMobile) {
            $("html").addClass("mobile-device");
          } else {
            $("html").addClass("desktop-device");
          }

        });
      }
      require(['lib/jquery.min'], function () {
        require(['lib/bootstrap.min'], function () {
          require(['lib/propeller'], function () {
            bindJS()
          });
        });
      });
    </script>

</body>
<script>
    function startDictation() {
  alert(window.hasOwnProperty('webkitSpeechRecognition'));
      if (window.hasOwnProperty('webkitSpeechRecognition')) {
  
        var recognition = new webkitSpeechRecognition();
  
        recognition.continuous = false;
        recognition.interimResults = false;
  
        recognition.lang = "en-US";
        recognition.start();
  
        recognition.onresult = function(e) {
          document.getElementById('btn-input').value
                                   = e.results[0][0].transcript;
                                   console.log();
                                   alert('success');
                                   alert(JSON.stringify(e));
          recognition.stop();
        };
  
        recognition.onerror = function(e) {
          console.log(e);
          alert(JSON.stringify(e));
          recognition.stop();
        }
  
      }
    }
  </script>


</html>
